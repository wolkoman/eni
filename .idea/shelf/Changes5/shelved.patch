Index: pages/intern/editor/project.tsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/pages/intern/editor/project.tsx b/pages/intern/editor/project/[projectId].tsx
rename from pages/intern/editor/project.tsx
rename to pages/intern/editor/project/[projectId].tsx
--- a/pages/intern/editor/project.tsx	(revision e77fe72f6953a4baa3795d58ef6956caacb8a336)
+++ b/pages/intern/editor/project/[projectId].tsx	(date 1666092611303)
@@ -1,15 +1,16 @@
 import {Collections} from 'cockpit-sdk';
 import React, {useEffect, useState} from 'react';
-import Site from '../../../components/Site';
+import Site from '../../../../components/Site';
 import Link from "next/link";
-import {fetchJson} from "../../../util/fetch-util";
-import {useUserStore} from "../../../util/use-user-store";
+import {fetchJson} from "../../../../util/fetch-util";
+import {useUserStore} from "../../../../util/use-user-store";
 import {useRouter} from "next/router";
-import Button from "../../../components/Button";
+import Button from "../../../../components/Button";
+import {cockpit} from "../../../../util/cockpit-sdk";
 
 export default function Index() {
 
-    const [project, setProject] = useState<{articles: Collections['paper_articles'][], name: string}>();
+    const [project, setProject] = useState<{ articles: Collections['paper_articles'][], name: string }>();
     const jwt = useUserStore(state => state.jwt)
     const {query: {projectId}} = useRouter();
     useEffect(() => {
@@ -19,7 +20,7 @@
 
     return <Site title={`Projekt ${project?.name}`}>
         <div className="flex mb-4">
-            <Link href="."><Button label="Zurück" secondary={true}/></Link>
+            <Link href="./intern/editor"><Button label="Zurück" secondary={true}/></Link>
         </div>
         <table className="table-auto border-collapse">
             <tbody>
@@ -43,4 +44,17 @@
             </tbody>
         </table>
     </Site>
+}
+
+export async function getStaticPaths() {
+    return cockpit.collectionGet('paper_projects')
+        .then(({entries}) => ({fallback: 'blocking', paths: entries.map(entry => ({params: {projectId: entry._id}}))}))
+}
+export async function getStaticProps({params: {projectId}}: {params: {projectId: string}}) {
+    const project = await cockpit.collectionGet('paper_projects', {filter: {_id: projectId}});
+    return {props: {}};
+    /*
+    return cockpit.collectionGet('paper_projects')
+        .then(({entries: [entry]}) => ({paths: entries.map(entry => ({params: {projectId: entry._id}}))}))
+     */
 }
\ No newline at end of file
Index: pages/intern/editor/index.tsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import {Collections} from 'cockpit-sdk';\r\nimport React, {useEffect, useState} from 'react';\r\nimport Site from '../../../components/Site';\r\nimport {fetchJson} from \"../../../util/fetch-util\";\r\nimport {useUserStore} from \"../../../util/use-user-store\";\r\nimport {InternButton} from \"../../../components/InternButton\";\r\n\r\nexport default function Index() {\r\n\r\n    const [projects, setProjects] = useState<Collections['paper_projects'][]>();\r\n    const [jwt, parish] = useUserStore(state => [state.jwt, state.user?.parish])\r\n    useEffect(() => {\r\n        if (jwt === undefined) return;\r\n        fetchJson(\"/api/editor/projects\", {jwt}).then(projects => setProjects(projects));\r\n    }, [setProjects, jwt])\r\n\r\n    return <Site title=\"Projekte der Redaktionen\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 m-2 gap-3\">\r\n            {projects?.filter(project => parish === 'all'\r\n                || (project.name.startsWith(\"EB\") && parish === 'emmaus')\r\n                || (project.name.toLowerCase().startsWith(\"blick\") && parish === 'inzersdorf')\r\n            )\r\n                .map(project => <InternButton href={`editor/project?projectId=${project._id}`} key={project._id}>\r\n                    <div className=\"text-2xl font-bold\">{project.name}</div>\r\n                    <div\r\n                        className=\"text-lg\">Redaktionsschluss: {new Date(project.deadline).toLocaleDateString(\"de-AT\")}</div>\r\n                </InternButton>)}\r\n        </div>\r\n    </Site>\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/pages/intern/editor/index.tsx b/pages/intern/editor/index.tsx
--- a/pages/intern/editor/index.tsx	(revision e77fe72f6953a4baa3795d58ef6956caacb8a336)
+++ b/pages/intern/editor/index.tsx	(date 1666092265833)
@@ -20,7 +20,7 @@
                 || (project.name.startsWith("EB") && parish === 'emmaus')
                 || (project.name.toLowerCase().startsWith("blick") && parish === 'inzersdorf')
             )
-                .map(project => <InternButton href={`editor/project?projectId=${project._id}`} key={project._id}>
+                .map(project => <InternButton href={`editor/project/${project._id}`} key={project._id}>
                     <div className="text-2xl font-bold">{project.name}</div>
                     <div
                         className="text-lg">Redaktionsschluss: {new Date(project.deadline).toLocaleDateString("de-AT")}</div>
